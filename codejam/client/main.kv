<ErrorPopup@ModalView>:
    auto_dismiss: False
    size_hint: 0.6, 0.2
    pos_hint: {"x": 0.2 ,"top": 0.9}
    title: "Error Title"
    error_code: "Error Code"
    message: "Error Message"
    BoxLayout:
        size_hint: None, None
        orientation: "vertical"
        Label:
            text: "Error encountered!"
        Widget:
        Label:
            text: root.title
            halign: "left"
        Label:
            text: root.error_code
            halign: "left"
        Label:
            text: root.message
            halign: "left"
        Button:
            text: "Close"
            on_release: root.dismiss()

RootWidget:
    ws: False
    MenuScreen:
        TextInput:
            font_size: self.height * 0.6
            pos_hint: {"x": .25, "y": .8}
            size_hint: .5, .1
            hint_text: 'username'
            multiline: False
            on_text_validate:
                root.username = self.text
        Button:
            font_size: self.width / 10
            pos: root.width / 2, 0
            size_hint: .5, .6
            text: "join room"
            on_release: root.current = 'join'
        Button:
            font_size: self.width / 10
            pos: 0, 0
            size_hint: .5, .6
            text: "create room"
            on_release:
                root.create_room = True
                root.current = 'whiteboard'
                root.create_room = False
    JoinScreen:
        name: 'join'
        TextInput:
            font_size: self.height * 0.6
            pos_hint: {"x": .25, "y": .8}
            size_hint: .5, .1
            hint_text: 'entry code'
            multiline: False
            on_text_validate:
                root.game_id = self.text
        Button:
            font_size: self.width / 10
            pos: root.width / 4, root.width / 8
            size_hint: .5, .4
            text: "join room"
            on_release:
                root.current = 'whiteboard'
    WhiteBoardScreen:
        name: 'whiteboard'

