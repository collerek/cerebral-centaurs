<Chat>:
    username: ''
    message: ''
    orientation: 'vertical'
    size_hint_y: None
    Label:
        font_size: sp(10)
        text: root.username
        text_size: self.width, None
        halign: 'left'
    Label:
        font_size: sp(15)
        text: root.message
        text_size: self.width, None
        halign: 'right'


<ChatScroll@ScrollView>:
    GridLayout:
        cols: 1
        id: chat_box
        size_hint_y: None
        height: self.minimum_height
        Chat:
            username: 'John'
            message: 'Hello'
        Chat:
            username: 'Mary'
            message: 'How are you?'
        Chat:
            username: 'John'
            message: 'I am fine.'
        Chat:
            username: 'Mary'
            message: 'Thank you.'
        Chat:
            username: 'John'
            message: 'Bye.'

<ChatWindow>:
    spacing: dp(10)
    orientation: 'vertical'
    ChatScroll:
        id: chat_scroll
        size_hint_y: .7

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: .3
        TextInput:
            id: message_input
            hint_text: 'Enter your message'
            text: ''
        Button:
            text: 'Send'
            on_release:
                root.add_message(message_input.text)
                chat_scroll.scroll_y = 0
                message_input.text = ''
